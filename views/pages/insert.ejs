<!DOCTYPE html>

<head>
    <title>Mall App</title>
    <%- include('../partials/head') %>
    <link href = "https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css"
         rel = "stylesheet">
         <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-typeahead/2.11.0/jquery.typeahead.min.js"></script>
</head>

<body class="container-fluid">
    <header>
        <%- include('../partials/header') %>
    </header>
    <form class="md-form">
        <div class="form-row">
          <div class="form-group col-sm-2">
            <label for="mallname">Mall Name</label>
            <input type="text" autocomplete="off" class="form-control" id="mallname">
          </div>
          <div class="form-group col-sm-2">
            <label for="stores">Store</label>
            <input type="text" class="form-control" id="stores">
          </div>
        </div>
        <div class="form-row">
            <div class="form-group col-sm-2">
                <label for="floor">Floor</label>
                <input type="text" class="form-control" id="floor">
              </div>
              <div class="form-group col-sm-2">
                <label for="category">Category</label>
                <input type="text" class="form-control" id="category">
              </div>
        </div>
        <div class="form-row">
          <div class="form-group col-sm-2">
            <label for="distribution">Distribution</label>
            <input type="text" class="form-control" id="distribution">
          </div>
          <div class="form-group col-sm-2">
            <label for="inputState">Area</label>
            <input type="number" step="any" class="form-control" id="area">
          </div>
          <div class="form-group col-sm-2">
            <label for="inputZip">Circle</label>
            <input type="text" class="form-control" id="circle">
          </div>  
        </div>
        <div class="form-row">
      <div class="form-group col-sm-6">
        <label for="inputZip">Address</label>
        <input type="text" class="form-control" id="address">
    </div>
  </div>
        <button type="submit" class="btn btn-primary">Insert Record</button>
      </form>
</body>

<script>

    var regexs = [/(^\s*)|(\s+$)/i]

    let mallsarr = ("<%- mallnames %>").split(',');
    let storesarr = ("<%- stores %>").split(',');
    let floorarr = [ ...new Set(("<%- floor %>").split(','))];
    let catearr = ("<%- category %>").split(',');
    let distarr = ("<%- dist %>").split(',');
    let circlearr = ("<%- circle %>").split(',');

    // Autocomplete multiple
    function split( val ) {
      return val.split( /,\s*/ );
    }
    function extractLast( term ) {
      return split( term ).pop();
    }

  $(document).ready(function(){
      $("#mallname").autocomplete({
    source: mallsarr
  }); 
  $("#stores").autocomplete({
    source: storesarr
  }); 
  $("#floor").autocomplete({
    source: floorarr,
    multiple: true
  }); 
  $("#category").autocomplete({
    source: catearr
  }); 
  $("#distribution").autocomplete({
    source: distarr
  }); 
  $("#circle").autocomplete({
    source: circlearr
  }); 
});

</script>

</html>

